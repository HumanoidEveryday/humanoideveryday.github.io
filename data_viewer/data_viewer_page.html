
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>[DATA_EXPLORER_TITLE]</title>
    <link rel="stylesheet" href="./static/css/bulma.min.css">
    <style>
        /* Modern Design with White Background */
        body {
            background-color: #ffffff;
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
            color: #1d1d1f;
            line-height: 1.6;
            margin: 0;
            padding: 0;
        }

        .section {
            background-color: #ffffff;
            padding: 3rem 0;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 0 2rem;
        }

        .title {
            color: #1d1d1f;
            font-weight: 700;
            margin-bottom: 2rem;
        }

        .notification {
            background: linear-gradient(135deg, #ffb366 0%, #ff8c42 100%);
            color: white;
            border-radius: 16px;
            border: none;
            box-shadow: 0 8px 32px rgba(255, 140, 66, 0.2);
            margin-bottom: 2rem;
        }

        .is-halfheight {
            height: 50vh;
            overflow-y: scroll;
        }

        iframe {
            max-width: 100%;
            border-radius: 12px;
            box-shadow: 0 8px 24px rgba(0,0,0,0.12);
        }

        .duck_icon {
            vertical-align: middle;
            margin-left: 5px;
        }

        /* Matte Glass Category Styling */
        .category {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 240, 240, 0.8) 100%);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
            color: #4a4a4a;
            cursor: pointer;
            padding: 16px 20px;
            width: 100%;
            border: 1px solid rgba(200, 200, 200, 0.3);
            text-align: left;
            outline: none;
            font-size: 16px;
            font-weight: 600;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-radius: 16px;
            margin-bottom: 8px;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.1);
        }


        .category:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.95) 0%, rgba(220, 220, 220, 0.9) 100%);
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.15);
            border-color: rgba(180, 180, 180, 0.4);
        }

        .category.active {
            background: linear-gradient(135deg, rgba(200, 200, 200, 0.8) 0%, rgba(180, 180, 180, 0.7) 100%);
            color: #2a2a2a;
            box-shadow: 0 8px 24px rgba(0, 0, 0, 0.2);
            border-color: rgba(160, 160, 160, 0.5);
        }


        .category:after {
            content: "\002B";
            color: #4a4a4a;
            font-weight: bold;
            float: right;
            margin-left: 5px;
            transition: all 0.3s ease;
            font-size: 18px;
        }

        .category.active:after {
            content: "\2212";
            color: #2a2a2a;
            transform: rotate(180deg);
        }

        /* Matte Glass Task List Styling */
        .task-list {
            border: none;
            padding: 12px 16px;
            margin: 4px 0;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.8) 0%, rgba(245, 245, 245, 0.7) 100%);
            backdrop-filter: blur(8px);
            -webkit-backdrop-filter: blur(8px);
            border-radius: 12px;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            font-size: 14px;
            font-weight: 500;
            color: #4a4a4a;
            border: 1px solid rgba(200, 200, 200, 0.2);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        .task-list:hover {
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(235, 235, 235, 0.8) 100%);
            transform: translateY(-1px);
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.12);
            border-color: rgba(180, 180, 180, 0.3);
        }

        .task-active {
            background: linear-gradient(135deg, rgba(200, 200, 200, 0.6) 0%, rgba(180, 180, 180, 0.5) 100%);
            color: #2a2a2a;
            font-weight: 600;
            box-shadow: 0 4px 16px rgba(0, 0, 0, 0.15);
            border-color: rgba(160, 160, 160, 0.4);
        }

        .panel {
            padding: 0;
            background: linear-gradient(135deg, #fafafa 0%, #ffffff 100%);
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94), padding 0.4s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            border-radius: 0 0 12px 12px;
            margin-bottom: 8px;
            border: 1px solid #e5e5e7;
            border-top: none;
        }

        .panel.active {
            padding: 12px 20px;
            max-height: 800px;
        }

        /* Modern Category Container */
        .categorycontainer {
            max-height: 80vh;
            overflow-y: auto;
            padding: 24px;
            background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
            border-radius: 16px;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid #e5e5e7;
        }

        .categorycontainer::-webkit-scrollbar {
            width: 6px;
        }

        .categorycontainer::-webkit-scrollbar-track {
            background: #ffffff;
            border-radius: 10px;
        }

        .categorycontainer::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #ffffff 0%, #ffffff 100%);
            border-radius: 10px;
        }

        .label {
            padding: 5px;
            width: 40%;
        }

        .other {
            background-color: #e7e7e7;
            color: rgb(82, 81, 81);
            font-size: small;
            width: 40%;
            height: 22px;
            position: relative;
        }

        .taskid-container {
            display: flex;
            align-items: center;
        }

        .taskid-label {
            margin-left: 10px;
            padding: 8px 16px;
            background: linear-gradient(135deg, rgba(255, 255, 255, 0.9) 0%, rgba(240, 240, 240, 0.8) 100%);
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            border: 1px solid rgba(200, 200, 200, 0.3);
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            color: #4a4a4a;
        }

        /* Modern Section Box Styling */
        .section-box {
            background: linear-gradient(135deg, #ffffff 0%, #fafafa 100%);
            border-radius: 16px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            border: 1px solid #e5e5e7;
            transition: all 0.3s ease;
        }

        .section-box:hover {
            box-shadow: 0 12px 40px rgba(0,0,0,0.12);
            transform: translateY(-2px);
        }

        .section-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: #8b4513;
            margin-bottom: 1.5rem;
            padding-bottom: 0.75rem;
            border-bottom: 3px solid #ff8c42;
            position: relative;
        }

        .section-title::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 0;
            width: 50px;
            height: 3px;
            background: linear-gradient(135deg, #ff6b1a 0%, #ff8c42 100%);
        }

        /* Modern Video Container */
        .video-container {
            position: relative;
            width: 100%;
            max-width: 800px;
            margin: 0 auto;
            background: #000;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 12px 40px rgba(0,0,0,0.2);
            transition: all 0.3s ease;
        }

        .video-container:hover {
            box-shadow: 0 16px 48px rgba(0,0,0,0.3);
            transform: scale(1.02);
        }

        .video-container iframe {
            width: 100%;
            height: auto;
            border: none;
            display: block;
            max-height: 600px;
        }

        .video-container video {
            width: 100%;
            height: auto;
            display: block;
            max-height: 600px;
            object-fit: contain;
            background: #000;
        }

        /* Responsive video sizing */
        @media (max-width: 768px) {
            .video-container {
                max-width: 100%;
            }
            
            .video-container video {
                max-height: 400px;
            }
        }

        @media (max-width: 480px) {
            .video-container video {
                max-height: 300px;
            }
        }

        /* Modern Point Cloud Container */
        .point-cloud-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #ffffff 100%);
            border-radius: 16px;
            padding: 3rem;
            text-align: center;
            min-height: 300px;
            display: flex;
            align-items: center;
            justify-content: center;
            border: 2px dashed #e5e5e7;
            transition: all 0.3s ease;
        }

        .point-cloud-container:hover {
            border-color: #007aff;
            background: linear-gradient(135deg, #f0f8ff 0%, #ffffff 100%);
        }

        .placeholder-text {
            color: #86868b;
            font-style: italic;
            font-size: 1.1rem;
        }

        /* Modern Category Header */
        .category-header {
            font-size: 20px;
            font-weight: 800;
            color: #8b4513;
            margin-bottom: 24px;
            text-align: center;
            padding-bottom: 12px;
            border-bottom: 3px solid #ff8c42;
            position: relative;
        }

        .category-header::after {
            content: '';
            position: absolute;
            bottom: -3px;
            left: 50%;
            transform: translateX(-50%);
            width: 60px;
            height: 3px;
            background: linear-gradient(135deg, #ff6b1a 0%, #ff8c42 100%);
        }

        /* Modern Card Styling */
        .card {
            background: #ffffff;
            border-radius: 20px;
            border: 1px solid #e5e5e7;
            box-shadow: 0 8px 32px rgba(0,0,0,0.08);
            overflow: hidden;
        }

        .card-content {
            padding: 2rem;
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 0 1rem;
            }
            
            .section-box {
                padding: 1.5rem;
            }
            
            .categorycontainer {
                padding: 16px;
            }
        }
    </style>
</head>

<body>
    <script type="module" src="https://md-block.verou.me/md-block.js"></script>

    <section class="section">
        <div class="container">
            <h2 class="title is-3">Humanoid Everyday Data Explorer</h2>
            <div class="notification is-info">
                <md-block>
                    This page demonstrates egocentric and third view videos from a small subset of tasks in the Humanoid Everyday dataset.
                </md-block>
            </div>

            <div class="columns">
                <div class="column is-one-quarter categorycontainer" id="categoriesContainer">
                    <div class="category-header">Categories</div>
                    
                    <!-- Pick and Place Category -->
                    <button class="category" onclick="toggleCategory('pick-place')">
                        Pick and Place
                    </button>
                    <div class="panel" id="pick-place-panel">
                        <div class="task-list" data-task="pick-place-1">Task 1: Lyft a kettle from its base</div>
                        <div class="task-list" data-task="pick-place-2">Task 2: Place a cube in a bag</div>
                        <div class="task-list" data-task="pick-place-3">Task 3: Pick up a tripod and stand it on the desk</div>
                        <div class="task-list" data-task="pick-place-4">Task 4: Pick up an air purify spray and put it inside a container</div>
                        <div class="task-list" data-task="pick-place-5">Task 5: Pick a multi-meter and place it in a container</div>
                        <div class="task-list" data-task="pick-place-6">Task 6: Pick a 3d printing filament and put it inside the container</div>
                        <div class="task-list" data-task="pick-place-7">Task 7: Stack a rolls of paper towel on top of the other</div>
                    </div>

                    <!-- Deformable Objects Category -->
                    <button class="category" onclick="toggleCategory('deformable')">
                        Deformable Objects
                    </button>
                    <div class="panel" id="deformable-panel">
                        <div class="task-list" data-task="deformable-1">Task 1: Cloth Manipulation</div>
                        <div class="task-list" data-task="deformable-2">Task 2: Rope Handling</div>
                        <div class="task-list" data-task="deformable-3">Task 3: Soft Object Grasping</div>
                    </div>

                    <!-- Loco-Manipulations Category -->
                    <button class="category" onclick="toggleCategory('loco-manip')">
                        Loco-Manipulations
                    </button>
                    <div class="panel" id="loco-manip-panel">
                        <div class="task-list" data-task="loco-manip-1">Task 1: Walking While Carrying</div>
                        <div class="task-list" data-task="loco-manip-2">Task 2: Dynamic Object Transfer</div>
                        <div class="task-list" data-task="loco-manip-3">Task 3: Mobile Manipulation</div>
                    </div>

                    <!-- Tool Use Category -->
                    <button class="category" onclick="toggleCategory('tool-use')">
                        Tool Use
                    </button>
                    <div class="panel" id="tool-use-panel">
                        <div class="task-list" data-task="tool-use-1">Task 1: Pour water from a kettle into a cup</div>
                        <div class="task-list" data-task="tool-use-2">Task 2: Wipe a table with an eraser</div>
                        <div class="task-list" data-task="tool-use-3">Task 3: Wipe a monitor with a cloth</div>
                        <div class="task-list" data-task="tool-use-4">Task 4: Use a garden tool</div>
                        <div class="task-list" data-task="tool-use-5">Task 5: Use a duster to dust the desk</div>
                        <div class="task-list" data-task="tool-use-6">Task 6: Wipe table with cloth</div>
                        <div class="task-list" data-task="tool-use-7">Task 7: Click a mouse</div>
                    </div>

                    <!-- Articulated Object Category -->
                    <button class="category" onclick="toggleCategory('articulated')">
                        Articulated Object
                    </button>
                    <div class="panel" id="articulated-panel">
                        <div class="task-list" data-task="articulated-1">Task 1: Door Opening</div>
                        <div class="task-list" data-task="articulated-2">Task 2: Drawer Manipulation</div>
                        <div class="task-list" data-task="articulated-3">Task 3: Hinge Assembly</div>
                    </div>

                    <!-- High Precision Category -->
                    <button class="category" onclick="toggleCategory('high-precision')">
                        High Precision
                    </button>
                    <div class="panel" id="high-precision-panel">
                        <div class="task-list" data-task="high-precision-1">Task 1: Threading Needle</div>
                        <div class="task-list" data-task="high-precision-2">Task 2: Micro Assembly</div>
                        <div class="task-list" data-task="high-precision-3">Task 3: Precision Placement</div>
                    </div>

                    <!-- Human-Robot Interaction Category -->
                    <button class="category" onclick="toggleCategory('human-robot')">
                        Human-Robot Interaction
                    </button>
                    <div class="panel" id="human-robot-panel">
                        <div class="task-list" data-task="human-robot-1">Task 1: Handover Tasks</div>
                        <div class="task-list" data-task="human-robot-2">Task 2: Collaborative Assembly</div>
                        <div class="task-list" data-task="human-robot-3">Task 3: Social Interaction</div>
                    </div>
                </div>
                <div class="column">
                    <!-- Data Explorer UI with 5 sections -->
                    <div class="card">
                        <div class="card-content">
                            <div class="content">
                                
                                <!-- Section 1: Text Description -->
                                <div class="section-box">
                                    <h5 class="section-title">Text Description</h5>
                                    <div>
                                        <md-block id="text-description-content">Select a task from the left sidebar to view its description.</md-block>
                                    </div>
                                </div>

                                <!-- Section 2: Third View -->
                                <div class="section-box">
                                    <h5 class="section-title">Third View</h5>
                                    <div class="video-container">
                                        <video id="third-viewer" controls preload="metadata">
                                            <source src="" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <div id="third-placeholder" class="placeholder-text">
                                            Third person view video will be displayed here
                                        </div>
                                    </div>
                                </div>

                                <!-- Section 3: Egocentric View -->
                                <div class="section-box">
                                    <h5 class="section-title">Egocentric View</h5>
                                    <div class="video-container">
                                        <video id="egocentric-viewer" controls preload="metadata">
                                            <source src="" type="video/mp4">
                                            Your browser does not support the video tag.
                                        </video>
                                        <div id="egocentric-placeholder" class="placeholder-text">
                                            Egocentric view video will be displayed here
                                        </div>
                                    </div>
                                </div>

                                <!-- Section 4: Point Cloud -->
                                <div class="section-box">
                                    <h5 class="section-title">Point Cloud</h5>
                                    <div class="point-cloud-container">
                                        <div id="point-cloud-content">
                                            <div class="placeholder-text">
                                                Point cloud visualization will be displayed here
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <!-- Section 5: Task ID -->
                                <div class="section-box">
                                    <h5 class="section-title">Task ID</h5>
                                    <div class="taskid-container">
                                        <span class="taskid-label" id="taskid-text">No task selected</span>
                                    </div>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <script>
        // Embedded task data for file:// protocol compatibility
        const taskData = {
            "pick-place-1": {
                "task_id": "pick-place-1",
                "task_name": "Lift a kettle from its base",
                "category": "Pick and Place",
                "text_description": "This task demonstrates basic pick and place operations where the humanoid robot grasps a kettle from its base and places it on the table.",
                "egocentric_video": "./static/data/videos/pick-place/task-1/lyft_a_kettle_from_base_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-1/lyft_a_kettle_from_base_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-1/pointcloud.ply",
                "difficulty": "Beginner",
                "duration": "15 seconds",
                "tags": ["grasping", "manipulation", "basic", "precision"]
            },
            "pick-place-2": {
                "task_id": "pick-place-2",
                "task_name": "Place a cube in a bag",
                "category": "Pick and Place",
                "text_description": "This task demonstrates precision pick and place operations where the humanoid robot grasps a cube and carefully places it inside a bag, requiring spatial awareness and gentle manipulation.",
                "egocentric_video": "./static/data/videos/pick-place/task-2/place_a_cube_in_a_bag_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-2/place_a_cube_in_a_bag_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-2/pointcloud.ply",
                "difficulty": "Intermediate",
                "duration": "45 seconds",
                "tags": ["multi-object", "sorting", "coordination", "planning"]
            },
            "pick-place-3": {
                "task_id": "pick-place-3",
                "task_name": "Pick up a tripod and stand it on the desk",
                "category": "Pick and Place",
                "text_description": "This task demonstrates complex manipulation where the humanoid robot picks up a tripod and carefully stands it upright on the desk, requiring balance, precision, and spatial reasoning.",
                "egocentric_video": "./static/data/videos/pick-place/task-3/pick_up_a_tripod_and_stand_it_on_the_desk_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-3/pick_up_a_tripod_and_stand_it_on_the_desk_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-3/pointcloud.ply",
                "difficulty": "Advanced",
                "duration": "30 seconds",
                "tags": ["precision", "delicate", "fine-control", "accuracy"]
            },
            "pick-place-4": {
                "task_id": "pick-place-4",
                "task_name": "Pick up an air purify spray and put it inside a container",
                "category": "Pick and Place",
                "text_description": "This task involves picking up an air purifier spray bottle and placing it inside a container, demonstrating object manipulation and spatial planning.",
                "egocentric_video": "./static/data/videos/pick-place/task-4/pick_an_air_purify_spray_and_put_it_inside_a_container_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-4/pick_an_air_purify_spray_and_put_it_inside_a_container_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-4/pointcloud.ply",
                "difficulty": "Intermediate",
                "duration": "25 seconds",
                "tags": ["container", "placement", "spatial", "planning"]
            },
            "pick-place-5": {
                "task_id": "pick-place-5",
                "task_name": "Pick a multi-meter and place it in a container",
                "category": "Pick and Place",
                "text_description": "This task demonstrates precision handling of electronic equipment, requiring careful manipulation of a multi-meter and placing it in a designated container.",
                "egocentric_video": "./static/data/videos/pick-place/task-5/pick_a_multi_meter_and_place_it_in_a_container_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-5/pick_a_multi_meter_and_place_it_in_a_container_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-5/pointcloud.ply",
                "difficulty": "Advanced",
                "duration": "35 seconds",
                "tags": ["electronics", "precision", "delicate", "tools"]
            },
            "pick-place-6": {
                "task_id": "pick-place-6",
                "task_name": "Pick a 3d printing filament and put it inside the container",
                "category": "Pick and Place",
                "text_description": "This task involves handling 3D printing filament, requiring careful manipulation to avoid tangling and precise placement in a container.",
                "egocentric_video": "./static/data/videos/pick-place/task-6/pick_a_3d_printing_filament_and_put_it_inside_the_container_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-6/pick_a_3d_printing_filament_and_put_it_inside_the_container_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-6/pointcloud.ply",
                "difficulty": "Intermediate",
                "duration": "20 seconds",
                "tags": ["filament", "flexible", "storage", "organization"]
            },
            "pick-place-7": {
                "task_id": "pick-place-7",
                "task_name": "Stack a rolls of paper towel on top of the other",
                "category": "Pick and Place",
                "text_description": "This task demonstrates stacking operations where the humanoid robot carefully stacks rolls of paper towels, requiring balance and spatial awareness.",
                "egocentric_video": "./static/data/videos/pick-place/task-7/stack_a_rolls_of_paper_towel_on_top_of_the_other_egocentric.mp4",
                "third_view_video": "./static/data/videos/pick-place/task-7/stack_a_rolls_of_paper_towel_on_top_of_the_other_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/pick-place/task-7/pointcloud.ply",
                "difficulty": "Beginner",
                "duration": "18 seconds",
                "tags": ["stacking", "balance", "organization", "basic"]
            },
            "tool-use-1": {
                "task_id": "tool-use-1",
                "task_name": "Pour water from a kettle into a cup",
                "category": "Tool Use",
                "text_description": "This task demonstrates tool manipulation where the humanoid robot uses a kettle to pour water into a cup, requiring precise control and coordination.",
                "egocentric_video": "./static/data/videos/tool-use/task-1/pour_water_from_a_kettle_into_a_cup_egocentric.mp4",
                "third_view_video": "./static/data/videos/tool-use/task-1/pour_water_from_a_kettle_into_a_cup_no_sound.mp4",
                "point_cloud": "./static/data/point-clouds/tool-use/task-1/pointcloud.ply",
                "difficulty": "Advanced",
                "duration": "40 seconds",
                "tags": ["pouring", "precision", "coordination", "tools"]
            },
            "tool-use-2": {
                "task_id": "tool-use-2",
                "task_name": "Wipe a table with an eraser",
                "category": "Tool Use",
                "text_description": "This task demonstrates cleaning operations where the humanoid robot uses an eraser to wipe a table surface, requiring controlled movements and surface contact.",
                "egocentric_video": "./static/data/videos/tool-use/task-2/wipe_a_table_with_an_eraser_egocentric.mp4",
                "third_view_video": "./static/data/videos/tool-use/task-2/wipe_a_table_with_an_eraser_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/tool-use/task-2/pointcloud.ply",
                "difficulty": "Intermediate",
                "duration": "30 seconds",
                "tags": ["cleaning", "surface", "contact", "maintenance"]
            },
            "tool-use-3": {
                "task_id": "tool-use-3",
                "task_name": "Wipe a monitor with a cloth",
                "text_description": "This task involves cleaning a monitor screen with a cloth, requiring gentle pressure and careful surface contact to avoid damage.",
                "egocentric_video": "./static/data/videos/tool-use/task-3/wipe_a_monitor_with_a_cloth_egocentric.mp4",
                "third_view_video": "./static/data/videos/tool-use/task-3/wipe_a_monitor_with_a_cloth_nosound.mp4",
                "point_cloud": "./static/data/point-clouds/tool-use/task-3/pointcloud.ply",
                "difficulty": "Advanced",
                "duration": "25 seconds",
                "tags": ["cleaning", "delicate", "screen", "precision"]
            }
        };

        // Category toggle functionality
        function toggleCategory(categoryId) {
            const panel = document.getElementById(categoryId + '-panel');
            const button = event.target;
            
            // Toggle active class on button
            button.classList.toggle('active');
            
            // Toggle panel visibility with active class
            panel.classList.toggle('active');
        }

        // Task selection functionality
        document.addEventListener('DOMContentLoaded', function () {
            // Add click event listeners to all task items
            const taskItems = document.querySelectorAll('.task-list');
            
            taskItems.forEach(taskItem => {
                taskItem.addEventListener('click', function() {
                    // Remove active class from all tasks
                    taskItems.forEach(item => item.classList.remove('task-active'));
                    
                    // Add active class to clicked task
                    this.classList.add('task-active');
                    
                    // Get task ID
                    const taskId = this.getAttribute('data-task');
                    
                    // Update the display with task data
                    updateTaskDisplay(taskId);
                });
            });
        });

        function updateTaskDisplay(taskId) {
            // Update Task ID
            document.getElementById('taskid-text').innerHTML = taskId;
            
            // Get task data from embedded data
            const taskDataItem = taskData[taskId];
            
            if (!taskDataItem) {
                // Show default message for tasks without data
                document.getElementById('text-description-content').innerHTML = 
                    `Task ${taskId} - Data not available in this demo version.`;
                document.getElementById('egocentric-viewer').style.display = 'none';
                document.getElementById('egocentric-placeholder').style.display = 'block';
                document.getElementById('third-viewer').style.display = 'none';
                document.getElementById('third-placeholder').style.display = 'block';
                document.getElementById('point-cloud-content').innerHTML = 
                    '<div class="placeholder-text">No point cloud data available</div>';
                return;
            }
            
            // Update Text Description
            document.getElementById('text-description-content').innerHTML = 
                taskDataItem.text_description || 'No description available';
            
            // Update Egocentric View
            const egocentricViewer = document.getElementById('egocentric-viewer');
            const egocentricPlaceholder = document.getElementById('egocentric-placeholder');
            if (taskDataItem.egocentric_video && taskDataItem.egocentric_video !== '' && taskDataItem.egocentric_video !== "about:blank") {
                const source = egocentricViewer.querySelector('source');
                source.src = taskDataItem.egocentric_video;
                egocentricViewer.load(); // Reload the video with new source
                egocentricViewer.style.display = 'block';
                egocentricPlaceholder.style.display = 'none';
            } else {
                egocentricViewer.style.display = 'none';
                egocentricPlaceholder.style.display = 'block';
            }
            
            // Update Third View
            const thirdViewer = document.getElementById('third-viewer');
            const thirdPlaceholder = document.getElementById('third-placeholder');
            if (taskDataItem.third_view_video && taskDataItem.third_view_video !== '' && taskDataItem.third_view_video !== "about:blank") {
                const source = thirdViewer.querySelector('source');
                source.src = taskDataItem.third_view_video;
                thirdViewer.load(); // Reload the video with new source
                thirdViewer.style.display = 'block';
                thirdPlaceholder.style.display = 'none';
            } else {
                thirdViewer.style.display = 'none';
                thirdPlaceholder.style.display = 'block';
            }
            
            // Update Point Cloud
            const pointCloudContent = document.getElementById('point-cloud-content');
            if (taskDataItem.point_cloud && taskDataItem.point_cloud !== '' && taskDataItem.point_cloud !== "about:blank") {
                if (taskDataItem.point_cloud.startsWith('http')) {
                    pointCloudContent.innerHTML = `<iframe src="${taskDataItem.point_cloud}" width="100%" height="400" frameborder="0"></iframe>`;
                } else {
                    pointCloudContent.innerHTML = `<div class="placeholder-text">Point cloud data available: ${taskDataItem.point_cloud}</div>`;
                }
            } else {
                pointCloudContent.innerHTML = '<div class="placeholder-text">No point cloud data available</div>';
            }
        }
    </script>
</body>
</html>